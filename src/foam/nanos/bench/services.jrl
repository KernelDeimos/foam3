p({
  "class": "foam.nanos.boot.NSpec",
  "name": "benchmarkDAO",
  "serve": true,
  "serviceScript":
  """
    return new foam.dao.EasyDAO.Builder(x)
      .setOf(foam.nanos.bench.Benchmark.getOwnClassInfo())
      .setJournalType(foam.dao.JournalType.SINGLE_JOURNAL)
      .setJournalName("benchmarks")
      .setFuid(true)
      .build();
  """,
  "client":
  """
    {
      "of":"foam.nanos.bench.Benchmark"
    }
  """
})

// Jenkins - remove JournalType and nullify
//        .setNullify(true)
//        .setDelegate(new foam.nanos.bench.BenchmarkResultReportingDAO())
//          .setSessionId(...)
//          .setHost(...)
//          .setPort(...)
p({
  "class": "foam.nanos.boot.NSpec",
  "name": "benchmarkResultDAO",
  "serve": true,
  "serviceScript":
  """
    return new foam.dao.EasyDAO.Builder(x)
      .setOf(foam.nanos.bench.BenchmarkResult.getOwnClassInfo())
      .setJournalType(foam.dao.JournalType.SINGLE_JOURNAL)
      .setJournalName("benchmarkResults")
      .setDecorator(new foam.nanos.bench.BenchmarkResultSystemDAO.Builder(x)
        .setDelegate(new foam.nanos.bench.BenchmarkResultReportingDAO())
        .build())
      .setCluster(false)
      .setOrder(new foam.mlang.order.Comparator[] {
        new foam.mlang.order.Desc.Builder(x).setArg1(foam.nanos.bench.BenchmarkResult.CREATED).build()
      })
      .build();
  """,
  "client":
  """
    {
      "of":"foam.nanos.bench.BenchmarkResult"
    }
  """
})
// Report server
// p({
//   "class": "foam.nanos.boot.NSpec",
//   "name": "benchmarkResultDAO",
//   "serve": true,
//   "serviceScript":
//   """
//     return new foam.dao.EasyDAO.Builder(x)
//       .setOf(foam.nanos.bench.BenchmarkResult.getOwnClassInfo())
//       .setJournalType(foam.dao.JournalType.SINGLE_JOURNAL)
//       .setJournalName("benchmarkResults")
//       .setOrder(new foam.mlang.order.Comparator[] {
//         new foam.mlang.order.Desc.Builder(x).setArg1(foam.nanos.bench.BenchmarkResult.CREATED).build()
//       })
//       .build();
//   """,
//   "client":
//   """
//     {
//       "of":"foam.nanos.bench.BenchmarkResult"
//     }
//   """
// })

p({
  "class":"foam.nanos.boot.NSpec",
  "name":"benchmarkRunnerDAO",
  "serve":true,
  "serviceScript": """
    return new foam.dao.EasyDAO.Builder(x)
      .setOf(foam.nanos.bench.BenchmarkRunner.getOwnClassInfo())
      .setJournalType(foam.dao.JournalType.SINGLE_JOURNAL)
      .setJournalName("benchmarkRunners")
      .setFuid(true)
      .setDecorator(new foam.nanos.script.ScriptRunnerDAO(new foam.dao.NullDAO(x, foam.nanos.bench.BenchmarkRunner.getOwnClassInfo())))
      .setOrder(new foam.mlang.order.Comparator[] {
        new foam.mlang.order.Desc.Builder(x).setArg1(foam.nanos.script.Script.ENABLED).build(),
        new foam.mlang.order.Desc.Builder(x).setArg1(foam.nanos.script.Script.LAST_RUN).build()
      })
      .build();
  """,
  "client":
  """
    {
      "of":"foam.nanos.bench.BenchmarkRunner"
    }
  """
})

p({
  "class":"foam.nanos.boot.NSpec",
  "name":"benchmarkRunnerEventDAO",
  "serve":true,
  "serviceScript":"""
    return new foam.dao.EasyDAO.Builder(x)
      .setOf(foam.nanos.script.ScriptEvent.getOwnClassInfo())
      .setFuid(true)
      .setFixedSize(new foam.dao.FixedSizeDAO.Builder(x)
        .setComparator(foam.mlang.MLang.DESC(foam.nanos.script.ScriptEvent.LAST_RUN))
        .setSize(10000)
        .build())
      .setCluster(false)
      .setOrder(new foam.mlang.order.Comparator[] {
        new foam.mlang.order.Desc.Builder(x).setArg1(foam.nanos.script.ScriptEvent.LAST_RUN).build()
      })
      .setRuler(false)
      .build()
      .addPropertyIndex(new foam.core.PropertyInfo[] {foam.nanos.script.ScriptEvent.OWNER})
      .addPropertyIndex(new foam.core.PropertyInfo[] {foam.nanos.script.ScriptEvent.LAST_RUN});
  """,
  "client":"{\"of\":\"foam.nanos.script.ScriptEvent\"}"
})
